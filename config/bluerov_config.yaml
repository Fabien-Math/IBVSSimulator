simulation:
  name: "smc_test_no_speed"
  timestep: 0.05
  end_time: 50.0
  graphical: false
  fancy_robot: false
  save_output: results/
  save_csv: false
  save_graphs: false
  show_graphs: false
  save_images: false

# Robot definition
robot:
  name: bluerov2
  camera:
    tf: [0.0, 0.0, 0.0, 1.57, 0.0, 1.57]
    img_width: 640
    # img_width: 320
    img_height: 480
    # img_height: 240
    fov: 60
    fps: 10

  mission:
    type: markers
    marker_position_in_image:
      - [0.375, -0.5]
      - [0.375, 0.5]
      - [-0.375, 0.5]
      - [-0.375, -0.5]
    kinematics_only: false

  controller:
    type: SMC # SIMPLE, ADAP, SMC, PID, RAW

    raw:
      lambda: 0.0
      coord_type: cartesian

    simple:
      lambda: [12.0, 12.0, 12.0, 0.5, 0.5, 0.5]

    adaptative:
      lambda_min: [3.0, 3.0, 3.0, 0.0, 0.5, 0.0]
      lambda_max: [10.0, 10.0, 10.0, 0.0, 0.5, 0.0]
      func: linear # linear, quad

    pid:
      kp: [3.0, 4.0, 3.0, 0.0, 0.0, 0.5]
      ki: [0.1, 0.1, 0.1, 0.0, 0.0, 0.05]
      kd: [0.1, 0.2, 0.1, 0.0, 0.0, 0.0]

    smc:
      k: [30.0, 30.0, 30.0, 0.0, 0.0, 1.0]
      lambda: [1.5, 1.5, 1.5, 0.0, 0.0, 1.0]
      phi: [0.8, 0.8, 0.8, 0.8, 0.8, 0.8]

    error_tol: 0.01
    # 0 to 1 parameter, ratio * L_e_s + (1 - ratio) * L_e_z
    # where L_e_s is computed with the fixed desired depth to the target
    # and L_e_z is computed with the actual z distance of each points
    ratio_zs: 0.5
    img_computation: false

  initial_conditions:
    eta: [0, 0, 0, 0, 0, 0]
    nu: [0, 0, 0, 0, 0, 0]

  mass_properties:
    m: 11.5
    rg: [0.0, 0.0, 0.02]
    I0:
      - [0.16, 0.00, 0.00]
      - [0.00, 0.16, 0.00]
      - [0.00, 0.00, 0.16]
    Ma:
      - [5.5, 0, 0, 0, 0, 0]
      - [0, 12.7, 0, 0, 0, 0]
      - [0, 0, 14.57, 0, 0, 0]
      - [0, 0, 0, 0.12, 0, 0]
      - [0, 0, 0, 0, 0.12, 0]
      - [0, 0, 0, 0, 0, 0.12]

  damping:
    Dl:
      - [4.03, 0, 0, 0, 0, 0]
      - [0, 6.22, 0, 0, 0, 0]
      - [0, 0, 5.18, 0, 0, 0]
      - [0, 0, 0, 0.07, 0, 0]
      - [0, 0, 0, 0, 0.07, 0]
      - [0, 0, 0, 0, 0, 0.07]
    Dq:
      - [18.18, 0, 0, 0, 0, 0]
      - [0, 21.66, 0, 0, 0, 0]
      - [0, 0, 36.99, 0, 0, 0]
      - [0, 0, 0, 1.55, 0, 0]
      - [0, 0, 0, 0, 1.55, 0]
      - [0, 0, 0, 0, 0, 1.55]

  thrusters:
    n_thrusters:
      8
      # -----------------------------------------------------
      #  HORIZONTAL THRUSTERS (VECTOR 30°)
      #  Positions approximate official CAD center-of-thrust
      # -----------------------------------------------------
    thruster0:
      name: HFR # Horizontal Front Right
      position: [0.140, 0.104, 0.066, 0.0, 0.0, -0.523599] # +30°
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster1:
      name: HFL # Horizontal Front Left
      position: [0.140, -0.104, 0.066, 0.0, 0.0, 0.523599] # -30°
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster2:
      name: HRR # Horizontal Rear Right
      position: [-0.140, 0.104, 0.066, 0.0, 0.0, -2.617994] # -150°
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster3:
      name: HRL # Horizontal Rear Left
      position: [-0.140, -0.104, 0.066, 0.0, 0.0, 2.617994] # +150°
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    # -----------------------------------------------------
    #  VERTICAL THRUSTERS (HEAVY UPGRADE: 4 VERTICAL MOTORS)
    #  Positioned at the 4 corners of the frame
    #  Pitch = -90° because using XYZ Euler → thrust DOWN
    # -----------------------------------------------------
    thruster4:
      name: VFR # Vertical Front Right
      position: [0.120, 0.218, 0.003, 0.0, -1.5708, 0.0] # down
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster5:
      name: VFL # Vertical Front Left
      position: [0.120, -0.218, 0.003, 0.0, -1.5708, 0.0]
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster6:
      name: VRR # Vertical Rear Right
      position: [-0.120, 0.218, 0.003, 0.0, -1.5708, 0.0]
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

    thruster7:
      name: VRL # Vertical Rear Left
      position: [-0.120, -0.218, 0.003, 0.0, -1.5708, 0.0]
      thrust_limits: [-35, 45]
      wn: 10
      zeta: 0.7

# Environment parameters
environment:
  # Open water parameters
  properties:
    gravity: [0.0, 0.0, -9.81] # Gravity vector in m/s^2
    water_density: 1025.0 # Density of water in kg/m^3
    water_viscosity: 1.0e-3 # Viscosity of water in Pa.s

  current:
    types: zero # Options: zero, normal, jet, constant, time_series, depth_profile

    # Type: normal (randomized per axis)
    normal:
      speed: [0.3, -0.3, 0.0, 0.0, 0.0, 0.0]
      std: [0.10, 0.05, 0.00, 0.0, 0.0, 0.0]

    # Type: jet (fully fixed 6D vector)
    jet:
      vector: [0.3, 0.0, 0.0, 0.0, 0.0, 0.0]
      period: 10
      duty: 0.2

    # Type: constant (3D only, angular assumed zero)
    constant:
      vector: [0.0, 0.0, 0.0]

    # Type: time_series (indexed array of 6D vectors)
    time_series:
      - time: 0
        vector: [0.1, 0.0, 0.0, 0.0, 0.0, 0.0]
      - time: 20
        vector: [0.15, 0.05, 0.0, 0.0, 0.0, 0.0]
      - time: 100
        vector: [0.2, 0.0, 0.0, 0.0, 0.0, 0.0]

    # Type: depth_profile (velocity as a function of depth)
    depth_profile:
      - depth: 0
        vector: [0.8, 0.0, 0.0, 0.0, 0.0, 0.0]
      - depth: 10
        vector: [0.4, 0.0, 0.0, 0.0, 0.0, 0.0]
      - depth: 20
        vector: [0.1, 0.0, 0.0, 0.0, 0.0, 0.0]

world:
  markers:
    initial_position:
      - [0.0, 0.5, -0.5]
      - [0.0, 0.5, 0.5]
      - [0.0, -0.5, 0.5]
      - [0.0, -0.5, -0.5]
    translation: [3.0, 0.0, 0.0] # XYZ
    rotation: [0.0, 0.0, 1.0] # RPY
    colors:
      - [1.0, 0.0, 0.0]
      - [1.0, 0.0, 0.0]
      - [1.0, 0.0, 0.0]
      - [1.0, 0.0, 0.0]
