#######################################################################
# FULL CONFIGURATION DEMONSTRATING ALL POSSIBLE FEATURES GENERATED BY CHATGPT
#######################################################################

simulation:
  name: "full_demo_all_modes"
  timestep: 0.03
  end_time: 40.0
  graphical: true
  save_csv: false
  save_output: results/
  show_graphs: false
  save_graphs: false


robot:
  name: bluerov2

  ###################################################################
  #                      MISSION SYSTEM (ALL CASES)
  #   Uncomment ONE of the mission types below to activate it
  ###################################################################
  mission:

    ###############################################################
    # 1 — Waypoints mission
    ###############################################################
    # type: waypoints
    # params:
    #   - [0, 0, 10, 0, 0, 0]
    #   - [10, 0, 10, 0, 0, 0]
    #   - [20, -5, 12, 0, 0, 0]
    #   - [30, 5, 12, 0, 0, 0]

    ###############################################################
    # 2 — Timed trajectory mission (Cubic spline)
    ###############################################################
    type: trajectory
    params:
      waypoints:
        - [0, 0, 10, 0, 0, 0]
        - [5, 0, 15, 0, 0, 0]
        - [5, 5, 20, 0, 0, 0]
        - [0, 5, 10, 0, 0, 0]
        - [0, 0, 10, 0, 0, 0]
      times:
        - 0
        - 10
        - 20
        - 30
        - 40

    ###############################################################
    # 3 — Spiral mission
    ###############################################################
    # type: spiral
    # params:
    #   radius: 20.0
    #   n_turn: 3
    #   n_points_per_turn: 40
    #   offset: [0, 0, 10, 0, 0, 0]

    ###############################################################
    # 4 — Lawnmower mission
    ###############################################################
    # type: lawnmower
    # params:
    #   width: 20.0
    #   height: 30.0
    #   line_spacing: 3.0
    #   offset: [0, 0, 10, 0, 0, 0]


  ###################################################################
  # INITIAL CONDITIONS
  ###################################################################
  initial_conditions:
    eta: [0, 0, 10, 0, 0, 0]
    nu: [0, 0, 0, 0, 0, 0]


  ###################################################################
  # DYNAMICS PARAMETERS (copied from your robot, unchanged)
  ###################################################################
  mass_properties:
    m: 11.5
    rg: [0.0, 0.0, 0.02]
    I0:
      - [0.16, 0.00, 0.00]
      - [0.00, 0.16, 0.00]
      - [0.00, 0.00, 0.16]
    Ma:
      - [5.5, 0, 0, 0, 0, 0]
      - [0, 12.7, 0, 0, 0, 0]
      - [0, 0, 14.57, 0, 0, 0]
      - [0, 0, 0, 0.12, 0, 0]
      - [0, 0, 0, 0, 0.12, 0]
      - [0, 0, 0, 0, 0, 0.12]

  damping:
    Dl:
      - [4.03, 0, 0, 0, 0, 0]
      - [0, 6.22, 0, 0, 0, 0]
      - [0, 0, 5.18, 0, 0, 0]
      - [0, 0, 0, 0.07, 0, 0]
      - [0, 0, 0, 0, 0.07, 0]
      - [0, 0, 0, 0, 0, 0.07]
    Dq:
      - [18.18, 0, 0, 0, 0, 0]
      - [0, 21.66, 0, 0, 0, 0]
      - [0, 0, 36.99, 0, 0, 0]
      - [0, 0, 0, 1.55, 0, 0]
      - [0, 0, 0, 0, 1.55, 0]
      - [0, 0, 0, 0, 0, 1.55]


  ###################################################################
  # THRUSTERS
  # (kept exactly as your definition, supports 8 DOF)
  ###################################################################
  thrusters:
    n_thrusters: 8

    thruster0:
      name: HFR
      position: [ 0.140,  0.104, 0.066 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster1:
      name: HFL
      position: [ 0.140, -0.104, 0.066 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster2:
      name: HRR
      position: [ -0.140,  0.104, 0.066 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster3:
      name: HRL
      position: [ -0.140, -0.104, 0.066 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster4:
      name: VFR
      position: [ 0.120,  0.218, 0.003 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster5:
      name: VFL
      position: [ 0.120, -0.218, 0.003 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster6:
      name: VRR
      position: [ -0.120,  0.218, 0.003 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7

    thruster7:
      name: VRL
      position: [ -0.120, -0.218, 0.003 ]
      thrust_limits: [-35, 45]
      wn: 20
      zeta: 0.7


  ###################################################################
  # CONTROLLER SYSTEM (ALL CONTROLLER TYPES INCLUDED)
  ###################################################################
  controller:

    # Choose ONE:
    type: FDB
    # type: SMC
    # type: PID
    # type: MPC
    # type: PPC

    eta_tol: [0.05, 0.05, 0.05, 0.05, 0.05, 0.05]
    nu_tol:  [0.05, 0.05, 0.05, 0.05, 0.05, 0.05]
    cmd_offset: [0, 0, 0, 0, 0, 0]

    smc_params:
      k_smc: [16, 16, 2, 1, 3, 2]
      lambda_smc: [1, 1, 2.5, 2, 2, 2]
      phi: [0.8, 0.8, 0.8, 0.8, 0.8, 0.8]

    pid_params:
      kp: [3, 3, 3, 4, 4, 2]
      ki: [0.2, 0.2, 0.2, 0.3, 0.3, 0.1]
      kd: [2.5, 2.5, 0.5, 0.5, 1, 0.5]

    feedback_params:
      kp: [0.4, 0.4, 0.2, 0.7, 0.7, 0.6]
      kd: [2, 2, 2, 1, 1, 1]
      noises:
        D: 0
        C: 0
        G: 0
        M: 0

    mpc_params:
      k: [40, 40, 40, 1, 1, 40]

    pole_placement_params:
      p: [-1, -1, -1, -2, -2, -2]


#######################################################################
# ENVIRONMENT SYSTEM — ALL CURRENT TYPES
#######################################################################

environment:

  properties:
    gravity: [0, 0, -9.81]
    water_density: 1025
    water_viscosity: 0.001

  current:

    # Combine types: normal, jet, constant, time_series, depth_profile
    types: time_series, jet

    normal:
      speed: [0.3, -0.3, 0.0, 0, 0, 0]
      std: [0.10, 0.05, 0.00, 0, 0, 0]

    jet:
      vector: [0.3, 0, 0, 0, 0, 0]
      period: 10
      duty: 0.1

    constant:
      vector: [0, 0, 0, 0, 0, 0]

    time_series:
      - time: 0
        vector: [0.1, 0, 0, 0, 0, 0]
      - time: 20
        vector: [0.15, 0.05, 0, 0, 0, 0]
      - time: 100
        vector: [0.2, 0, 0, 0, 0, 0]

    depth_profile:
      - depth: 0
        vector: [0.8, 0, 0, 0, 0, 0]
      - depth: 10
        vector: [0.4, 0, 0, 0, 0, 0]
      - depth: 20
        vector: [0.1, 0, 0, 0, 0, 0]
